<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Thanh to√°n - Kho ph·ª• t√πng</title>

    <!-- Th∆∞ vi·ªán CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
      rel="stylesheet"
    />
    <link href="../css/style.css" rel="stylesheet" />

    <style>
      :root {
        --primary: #1e88e5;
      }

      body {
        background-color: #f8f9fa;
        font-family: "Inter", sans-serif;
      }

      /* Sidebar */
      .sidebar {
        position: fixed;
        width: 240px;
        top: 0;
        bottom: 0;
        left: 0;
        background: var(--primary);
        color: white;
        padding: 20px;
      }

      .sidebar a {
        color: white;
        text-decoration: none;
        display: block;
        margin-bottom: 10px;
      }

      .sidebar a:hover,
      .sidebar a.active {
        color: #ffc107;
      }

      /* Main content */
      .main {
        margin-left: 260px;
        padding: 20px;
      }

      /* Hai c·ªôt ngang */
      .equal-section {
        height: calc(100vh - 200px);
        overflow-y: auto;
      }

      .card-title {
        font-weight: 600;
        color: var(--primary);
      }

      /* Responsive cho ƒëi·ªán tho·∫°i */
      @media (max-width: 768px) {
        .sidebar {
          position: relative;
          width: 100%;
          height: auto;
        }

        .main {
          margin-left: 0;
          padding: 15px;
        }

        .equal-section {
          height: auto;
        }
      }
    </style>
  </head>

  <body>
    <!-- ===== SIDEBAR ===== -->
    <aside class="sidebar">
      <div class="sidebar-header d-flex align-items-center mb-3">
        <img
          id="sidebarLogo"
          src="https://cdn-icons-png.flaticon.com/512/679/679922.png"
          alt="Logo"
          width="40"
          height="40"
          class="me-2"
        />
        <h5 class="m-0">Kho ph·ª• t√πng</h5>
      </div>

      <ul class="list-unstyled">
        <li>
          <a href="index.html"
            ><i class="bi bi-speedometer2 me-2"></i> Dashboard</a
          >
        </li>
        <li>
          <a href="home.html"><i class="bi bi-box me-2"></i> Qu·∫£n l√Ω kho</a>
        </li>
        <li>
          <a href="stats.html"><i class="bi bi-bar-chart me-2"></i> Th·ªëng k√™</a>
        </li>
        <li>
          <a href="payment.html" class="fw-bold active"
            ><i class="bi bi-cash-coin me-2"></i> Thanh to√°n</a
          >
        </li>
        <li>
          <a href="settings.html"><i class="bi bi-gear me-2"></i> C√†i ƒë·∫∑t</a>
        </li>
      </ul>
    </aside>

    <!-- ===== MAIN CONTENT ===== -->
    <main class="main">
      <div class="dashboard-header mb-4">
        <h2><i class="bi bi-cash-coin me-2"></i> Thanh to√°n b√°n h√†ng</h2>
      </div>

      <!-- üîç B·ªô l·ªçc -->
      <div class="card p-3 mb-4 shadow-sm">
        <div class="row g-2 align-items-center">
          <div class="col-md-4">
            <input
              id="searchInput"
              class="form-control"
              placeholder="üîç G√µ ƒë·ªÉ t√¨m s·∫£n ph·∫©m..."
            />
          </div>
          <div class="col-md-2">
            <select id="filterVehicle" class="form-select">
              <option value="">T·∫•t c·∫£ h√£ng xe</option>
              <option>Honda</option>
              <option>Yamaha</option>
              <option>SYM</option>
            </select>
          </div>
          <div class="col-md-2">
            <select id="filterCategory" class="form-select">
              <option value="">T·∫•t c·∫£ lo·∫°i</option>
              <option>Phanh</option>
              <option>L·ªëp</option>
              <option>Phu·ªôc</option>
              <option>ƒê√®n</option>
            </select>
          </div>
          <div class="col-md-2">
            <select id="filterStatus" class="form-select">
              <option value="">T·∫•t c·∫£ tr·∫°ng th√°i</option>
              <option value="C√≤n h√†ng">C√≤n h√†ng</option>
              <option value="H·∫øt h√†ng">H·∫øt h√†ng</option>
            </select>
          </div>
          <div class="col-md-2">
            <button id="btnClearFilters" class="btn btn-outline-danger w-100">
              <i class="bi bi-x-circle"></i> X√≥a t√¨m ki·∫øm
            </button>
          </div>
        </div>
      </div>

      <!-- Hai c·ªôt ngang -->
      <div class="row g-3">
        <!-- üì¶ Danh s√°ch s·∫£n ph·∫©m -->
        <div class="col-md-6">
          <div class="card p-3 shadow-sm equal-section">
            <h5 class="card-title mb-3">
              <i class="bi bi-box"></i> Danh s√°ch s·∫£n ph·∫©m
            </h5>
            <div id="productList" class="list-group mb-3">
              <div class="text-center text-muted py-3">ƒêang t·∫£i...</div>
            </div>

            <!-- Ph√¢n trang -->
            <div class="d-flex justify-content-between align-items-center">
              <button id="prevPage" class="btn btn-outline-secondary btn-sm">
                <i class="bi bi-chevron-left"></i> Trang tr∆∞·ªõc
              </button>
              <span id="pageInfo" class="fw-semibold"></span>
              <button id="nextPage" class="btn btn-outline-secondary btn-sm">
                Trang sau <i class="bi bi-chevron-right"></i>
              </button>
            </div>
          </div>
        </div>

        <!-- üõí Gi·ªè h√†ng -->
        <div class="col-md-6">
          <div class="card p-3 shadow-sm equal-section">
            <div class="d-flex justify-content-between align-items-center mb-3">
              <h5 class="card-title m-0">
                <i class="bi bi-cart-check"></i> Gi·ªè h√†ng
                <span id="cartCountBadge" class="badge bg-primary ms-1">0</span>
              </h5>
              <button id="btnClearCart" class="btn btn-sm btn-outline-danger">
                <i class="bi bi-trash"></i> X√≥a t·∫•t c·∫£
              </button>
            </div>

            <ul class="list-group mb-3" id="cartList">
              <li class="list-group-item text-center text-muted">
                Ch∆∞a c√≥ s·∫£n ph·∫©m
              </li>
            </ul>

            <div class="border-top pt-3 mt-2">
              <div
                class="d-flex justify-content-between align-items-center mb-2"
              >
                <span class="fw-semibold">T·ªïng c·ªông:</span>
                <span id="totalAmount" class="fw-bold text-success fs-5"
                  >0 ‚Ç´</span
                >
              </div>
              <button id="btnCheckout" class="btn btn-primary w-100">
                <i class="bi bi-credit-card-2-front me-1"></i> Thanh to√°n
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- üîî Popup h√≥a ƒë∆°n -->
      <!-- üîî Popup h√≥a ƒë∆°n -->
      <div
        class="modal fade"
        id="invoiceModal"
        tabindex="-1"
        aria-hidden="true"
      >
        <div class="modal-dialog modal-lg modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header bg-primary text-white">
              <h5 class="modal-title">
                <i class="bi bi-receipt"></i> H√≥a ƒë∆°n b√°n h√†ng
              </h5>
              <button
                type="button"
                class="btn-close btn-close-white"
                data-bs-dismiss="modal"
              ></button>
            </div>
            <div class="modal-body p-4" id="invoiceContent">
              <!-- N·ªôi dung h√≥a ƒë∆°n ƒë∆∞·ª£c render b·∫±ng JS -->
            </div>
            <div class="modal-footer">
              <button class="btn btn-outline-secondary" data-bs-dismiss="modal">
                ƒê√≥ng
              </button>
              <button id="btnDownloadPDF" class="btn btn-success">
                <i class="bi bi-file-earmark-arrow-down"></i> T·∫£i PDF
              </button>
              <button id="btnPrintInvoice" class="btn btn-primary">
                <i class="bi bi-printer"></i> In h√≥a ƒë∆°n
              </button>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- üîî Toast -->
    <div
      class="position-fixed top-0 start-50 translate-middle-x p-3"
      style="z-index: 1100"
    >
      <div id="toastContainer" class="toast-container text-center"></div>
    </div>

    <!-- JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../js/payment.js"></script>
  </body>
</html>
